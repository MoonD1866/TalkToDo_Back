package com.example.TalkToDo.util;

import org.springframework.stereotype.Component;

import com.example.TalkToDo.dto.MeetingDataDTO;
import com.fasterxml.jackson.databind.ObjectMapper;

@Component
public class FakeApi {
    public MeetingDataDTO aiApi() {
        String reponseJson = """
                        {
                    "meetingSummary": {
                        "subject": "주요 업무 상황 및 다음 회의 일정 논의",
                        "summary": "디자인팀은 시안 1차 수정본 작업 중이며 마감은 목요일까지 가능. 개발팀은 기능 개발 80% 완료, 요그인 기능과 계시판 기능은 다음 주 월요일까지 마무리 예정. 마케팅팀은 프로모션 준비 중이며 기획 초안 제출 기한을 다음 주 수요일로 조정. 다음 회의는 4월 29일 월요일 오전 11시로 확정."
                    },
                    "meetingTranscript": [
                        {
                            "end": 28.16,
                            "speaker": "SPEAKER_00",
                            "start": 0.03,
                            "text": " 다들 도착하셨나요? 그럼 회의 시작할게요. 먼저 디자인 팀 상황부터 공유해주시겠어요? 네, 디자인 팀은 이번 주까지 시안 1차 수정본 제출목별로 작업 중입니다. 주요 피드백 반영했고 마감은 목을까지 가능합니다. 좋아요. 개발팀은요? 기능 개발은 80% 열렸습니다. 어... 요그인 기능과 계시판 기능은 이번 주에 마무리할 예정이고 다음 주 월을 붙어 내부 테스트를 시작하려고 합니다."
                        },
                        {
                            "end": 44.9,
                            "speaker": "SPEAKER_02",
                            "start": 28.58,
                            "text": " 일정대로 잘 진행되고 있네요. 마케팅 쪽은 어떤가요? 마케팅 팀은 월초에 있을 프로모션을 준비 중입니다. 다만 이번 주 안으로 기획 초원을 작성하는 건 조금 타이트할 것 같은데 가능하다면 기획 초원 제출 기안을 다음 주 수요일까지로 도정해 주실 수 있을까요?"
                        },
                        {
                            "end": 68.97,
                            "speaker": "SPEAKER_01",
                            "start": 45.16,
                            "text": " 음, 알겠어요. 전체 일정에는 영향이 크지 않으니 다음 주 수요일까지로 조정합시다. 그럼 지금 남은 과제는 기능 테스트 계획 수리, 디자인 수정 최종본 검토, 마케팅 기획 초원 전검 2-3가지로 정리할 수 있겠네요. 네, 테스트 계획 문서는 이번 주 금요일까지 작성해서 공유하겠습니다. 디자인 수정보는 목요일에 완성되는 대로 바로 공유 드리겠습니다."
                        },
                        {
                            "end": 96.47,
                            "speaker": "SPEAKER_01",
                            "start": 69.13,
                            "text": " 좋아요. 마지막으로 다음 회의 일정을 잡을게요. 4월 29일 월요일 오전 10시에 모두 괜찮으세요? 죄송한데 그날 오전에 내부 회의가 있어서 11시 이유로 밀어주실 수 있을까요? 저는 괜찮습니다. 저도 11시이면 문제 없습니다. 알겠습니다. 그럼 다음 회의는 4월 29일 월요일 오전 11시로 확정하겠습니다. 오늘 회의는 여기까지 하겠습니다. 모두 수고하셨습니다."
                        }
                    ],
                    "schedule": [
                        {
                            "end": "목",
                            "start": "이번 주",
                            "text": "디자인 팀은 이번 주까지 시안 1차 수정본 제출목별로 작업 중입니다. 주요 피드백 반영했고 마감은 목을까지 가능합니다."
                        },
                        {
                            "end": "다음 주 월",
                            "start": "이번 주",
                            "text": "기능 개발은 80% 열렸습니다. 요그인 기능과 계시판 기능은 이번 주에 마무리할 예정이고 다음 주 월을 붙어 내부 테스트를 시작하려고 합니다."
                        },
                        {
                            "end": "다음 주 수요일",
                            "start": "이번 주",
                            "text": "마케팅 팀은 월초에 있을 프로모션을 준비 중입니다. 다만 이번 주 안으로 기획 초원을 작성하는 건 조금 타이트할 것 같은데 가능하다면 기획 초원 제출 기안을 다음 주 수요일까지로 도정해 주실 수 있을까요?"
                        },
                        {
                            "end": "금요일",
                            "start": "이번 주",
                            "text": "테스트 계획 문서는 이번 주 금요일까지 작성해서 공유하겠습니다."
                        },
                        {
                            "end": "목요일",
                            "start": "목요일",
                            "text": "디자인 수정보는 목요일에 완성되는 대로 바로 공유 드리겠습니다."
                        },
                        {
                            "end": "4월 29일 월요일 오전 11시",
                            "start": "4월 29일 월요일 오전 11시",
                            "text": "다음 회의는 4월 29일 월요일 오전 11시로 확정하겠습니다."
                        }
                    ],
                    "todo": [
                        {
                            "end": "목",
                            "start": "이번 주",
                            "text": "시안 1차 수정본 제출목별로 작업 중"
                        },
                        {
                            "end": "",
                            "start": "",
                            "text": "기능 개발은 80% 열렸음"
                        },
                        {
                            "end": "",
                            "start": "다음 주 월",
                            "text": "요그인 기능과 계시판 기능 마무리 예정"
                        },
                        {
                            "end": "다음 주 수요일",
                            "start": "",
                            "text": "프로모션 기획 초안 제출 기한 조정"
                        },
                        {
                            "end": "",
                            "start": "이번 주 금요일",
                            "text": "테스트 계획 문서 작성 및 공유"
                        },
                        {
                            "end": "",
                            "start": "목요일",
                            "text": "디자인 수정 최종본 검토"
                        }
                    ]
                }
                        """;
        try {
            return new ObjectMapper().readValue(reponseJson, MeetingDataDTO.class);
        } catch (Exception e) {
            throw new RuntimeException("JSON 파싱 실패", e);
        }
    }
}
